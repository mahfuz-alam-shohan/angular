<app-navbar-style-two-2></app-navbar-style-two-2>

<section
  class="home-hero"
  [style.backgroundImage]="slides?.length ? 'url(' + slides[0].ImageLink + ')' : 'none'"
>
  <div class="hero-overlay"></div>
  <div class="container hero-content">
    <div class="hero-chip">{{ heroWelcomeLabel }}</div>
    <h1>{{ heroTitle }}</h1>
    <p class="hero-tagline">
      <span class="muted">{{ heroTaglinePrefix }}</span>
      <span class="highlight">{{ heroTaglineHighlight }}</span>
    </p>
    <div class="hero-actions">
      <a routerLink="/notice" class="cta primary">See Notices</a>
      <a routerLink="/photo-gallery" class="cta ghost">Photo Gallery</a>
    </div>
  </div>
</section>

<section class="notice-ticker" *ngIf="Notices?.length">
  <div class="container ticker-inner">
    <div class="ticker-label">
      <i class="fas fa-bullhorn"></i>
      Latest Notices
    </div>
    <div class="ticker-track">
      <a
        class="tick"
        *ngFor="let data of Notices"
        [href]="TransformUrl(data.FileLink)"
        target="_blank"
        rel="noopener"
      >
        <time>{{ data.CreatedDate | date: 'dd MMM yyyy' }}</time>
        <span>{{ data.EnglishTitle }}</span>
      </a>
    </div>
  </div>
</section>

<section class="home-section" id="updates">
  <div class="container">
    <div class="section-head">
      <div>
        <p class="section-kicker">Campus Updates</p>
        <h2>Stay informed</h2>
      </div>
      <a routerLink="/notice" class="link">View all notices</a>
    </div>
    <div class="updates-grid">
      <div class="notice-card">
        <div class="card-head">
          <h3>Notices</h3>
          <span class="badge">{{ Notices?.length || 0 }}</span>
        </div>
        <ul class="notice-list" *ngIf="Notices?.length; else emptyNotices">
          <li *ngFor="let data of Notices | slice:0:8">
            <div class="notice-date">
              <span class="day">{{ data.CreatedDate | date: 'dd' }}</span>
              <span class="month">{{ data.CreatedDate | date: 'MMM' }}</span>
            </div>
            <a
              class="notice-link"
              [href]="TransformUrl(data.FileLink)"
              target="_blank"
              rel="noopener"
            >
              {{ data.EnglishTitle }}
            </a>
          </li>
        </ul>
        <ng-template #emptyNotices>
          <div class="empty-state">Notices will appear here.</div>
        </ng-template>
      </div>
      <div class="leader-panel">
        <div class="card-head">
          <h3>Messages</h3>
          <a routerLink="/message-of-principal" class="link">All messages</a>
        </div>
        <div class="leader-grid" *ngIf="leaderCards?.length; else emptyLeaders">
          <article class="leader-card" *ngFor="let leader of leaderCards">
            <div class="avatar" *ngIf="leader.photo">
              <img [src]="leader.photo" [alt]="leader.name || leader.roleLabel" />
            </div>
            <div class="avatar placeholder" *ngIf="!leader.photo">
              <i class="fas fa-user"></i>
            </div>
            <div class="leader-meta">
              <p class="role">{{ leader.roleLabel }}</p>
              <h4 class="name">{{ leader.name || 'Updating soon' }}</h4>
              <p class="excerpt" *ngIf="leader.message">{{ leader.message }}</p>
              <a
                *ngIf="leader.routerLink && leader.routerLink !== '#'"
                [routerLink]="leader.routerLink"
                class="link"
                >Read more</a
              >
            </div>
          </article>
        </div>
        <ng-template #emptyLeaders>
          <div class="empty-state">Messages will be added soon.</div>
        </ng-template>
      </div>
    </div>
  </div>
</section>

<section class="home-section alt" id="gallery">
  <div class="container">
    <div class="section-head center">
      <div>
        <p class="section-kicker">Moments We Cherish</p>
        <h2>Photo Highlights</h2>
      </div>
      <a routerLink="/photo-gallery" class="link">See more</a>
    </div>
    <div class="gallery-grid" *ngIf="galleryImages.length; else emptyGallery">
      <figure class="gallery-item" *ngFor="let image of galleryImages">
        <img [src]="image" alt="Gallery image" loading="lazy" />
      </figure>
    </div>
    <ng-template #emptyGallery>
      <div class="empty-state">Gallery images will be added soon.</div>
    </ng-template>
  </div>
</section>

<section class="home-section" id="houses">
  <div class="container">
    <div class="section-head center">
      <div>
        <p class="section-kicker">Houses</p>
        <h2>Grow, Learn &amp; Lead</h2>
      </div>
    </div>
    <div class="houses-grid" *ngIf="houseCards.length; else emptyHouses">
      <div class="house-card" *ngFor="let house of houseCards" [class]="'tone-' + house.color">
        <div class="house-image" *ngIf="house.image">
          <img [src]="house.image" [alt]="house.title" loading="lazy" />
        </div>
        <div class="house-body">
          <h4>{{ house.title }}</h4>
          <p>Student groups inspired by leadership &amp; service.</p>
        </div>
      </div>
    </div>
    <ng-template #emptyHouses>
      <div class="empty-state">House information will be shared soon.</div>
    </ng-template>
  </div>
</section>

<section class="home-section alt" id="learning">
  <div class="container">
    <div class="section-head center">
      <div>
        <p class="section-kicker">Learning Zone</p>
        <h2>Practice &amp; explore</h2>
      </div>
    </div>
    <div class="learning-grid">
      <a
        class="learning-card"
        *ngFor="let card of learningCards"
        [routerLink]="card.link"
        [style.--tone]="card.color"
      >
        <div class="icon">
          <i [class]="card.icon"></i>
        </div>
        <div class="label">{{ card.label }}</div>
      </a>
    </div>
  </div>
</section>

<section class="home-section info-panel">
  <div class="container info-grid">
    <div class="info-block">
      <p class="section-kicker">Welcome</p>
      <h3>{{ HomeContent?.TitleEn || 'Welcome to our campus' }}</h3>
      <p class="muted">
        <span *ngIf="HomeContent; else welcomeFallback">
          {{ truncateText(HomeContent.DetailsEn || HomeContent.ContentNameEn || '', 320) }}
        </span>
        <ng-template #welcomeFallback>
          We nurture students to lead with knowledge, character, and service.
        </ng-template>
      </p>
      <a routerLink="/welcome" class="link">Read more</a>
    </div>
    <div class="info-block stats">
      <div class="stat">
        <span class="value">{{ all_news_and_event_data?.length || 0 }}</span>
        <span class="label">News &amp; Events</span>
      </div>
      <div class="stat">
        <span class="value">{{ all_achievement_data?.length || 0 }}</span>
        <span class="label">Achievements</span>
      </div>
      <div class="stat">
        <span class="value">{{ Notices?.length || 0 }}</span>
        <span class="label">Active Notices</span>
      </div>
      <div class="stat">
        <span class="value">{{ houseCards.length || 0 }}</span>
        <span class="label">Houses</span>
      </div>
    </div>
  </div>
</section>
